"use strict";(self.webpackChunkessentialist=self.webpackChunkessentialist||[]).push([[731],{6731:($,f,p)=>{p.r(f),p.d(f,{NewTripModule:()=>V});var g=p(430),T=p(3493),d=p(2302),e=p(5e3),a=p(3075),v=p(6727),x=p(2654),l=(()=>{return(t=l||(l={}))[t.SHOW=0]="SHOW",t[t.EDIT=1]="EDIT",t[t.NEW=2]="NEW",l;var t})();const I=[{id:1,display:"Itinerary",value:"itinerary"},{id:2,display:"Proposal",value:"proposal"}],F=[{id:1,display:"Paris",value:"paris"},{id:2,display:"Spain",value:"spain"},{id:3,display:"Greece",value:"greece"}];var C=p(7003),m=p(1223),N=p(9722),s=p(9808),S=p(6201),E=p(6766),c=p(7021),u=p(2466);function w(t,n){if(1&t&&(e.\u0275\u0275elementStart(0,"mat-option",13)(1,"span"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd()()),2&t){const r=n.$implicit;e.\u0275\u0275property("value",r.value),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(r.display)}}function B(t,n){1&t&&(e.\u0275\u0275elementStart(0,"mat-error"),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&t&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(2,1,"fields.visibility-status.error.required")," "))}function b(t,n){1&t&&(e.\u0275\u0275elementStart(0,"mat-error"),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&t&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(2,1,"fields.title.error.required")," "))}function O(t,n){1&t&&(e.\u0275\u0275elementStart(0,"mat-error"),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&t&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(2,1,"fields.departure-date.error.required")," "))}function P(t,n){1&t&&(e.\u0275\u0275elementStart(0,"mat-error"),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&t&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(2,1,"fields.arrival-date.error.required")," "))}function _(t,n){if(1&t&&(e.\u0275\u0275elementStart(0,"mat-option",13)(1,"span"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd()()),2&t){const r=n.$implicit;e.\u0275\u0275property("value",r.value),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(r.display)}}function M(t,n){1&t&&(e.\u0275\u0275elementStart(0,"mat-error"),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&t&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(2,1,"fields.destination.error.required")," "))}function k(t,n){1&t&&(e.\u0275\u0275elementStart(0,"mat-error"),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&t&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(2,1,"fields.image.error.required")," "))}let j=(()=>{class t{constructor(r,i){this.store=r,this.formBuilder=i,this.action=0,this.actions=l,this.subscriptions=new x.w,this.statusTypes=I,this.destinationTypes=F,this.tripForm=this.formBuilder.group({title:new a.NI("",[a.kI.required]),image:new a.NI("",[a.kI.required]),destination:new a.NI("",[]),visibility_status:new a.NI("",[a.kI.required]),departure_date:new a.NI("",[a.kI.required]),arrival_date:new a.NI("",[a.kI.required])}),this.subscriptions.add(this.store.pipe((0,v.Ys)(C.zO)).subscribe(o=>{this.trip=Object.assign({},o),this.loadForm()}))}ngOnChanges(r){switch(this.action){case l.SHOW:this.tripForm.disable();break;case l.EDIT:case l.NEW:this.tripForm.enable()}}ngOnInit(){this.resetForm()}loadForm(){this.tripForm.controls.title.setValue(this.trip.title),this.tripForm.controls.image.setValue(this.trip.image),this.tripForm.controls.visibility_status.setValue(this.trip.visibility_status),this.tripForm.controls.departure_date.setValue(this.trip.departure_date),this.tripForm.controls.arrival_date.setValue(this.trip.arrival_date)}saveForm(){let r=!1;return this.tripForm.valid?(this.trip.title=this.tripForm.controls.title.value,this.trip.image=this.tripForm.controls.image.value,this.trip.visibility_status=this.tripForm.controls.visibility_status.value,this.trip.departure_date=this.tripForm.controls.departure_date.value,this.trip.arrival_date=this.tripForm.controls.arrival_date.value,r=!0):this.validateAllFormFields(this.tripForm),{isSave:r,trip:this.trip}}resetForm(){this.tripForm.reset(),this.trip={}}validateAllFormFields(r){Object.keys(r.controls).forEach(i=>{const o=r.get(i);o instanceof a.NI?o.markAsTouched({onlySelf:!0}):o instanceof a.cw&&this.validateAllFormFields(o)})}ngOnDestroy(){this.subscriptions.unsubscribe()}}return t.\u0275fac=function(r){return new(r||t)(e.\u0275\u0275directiveInject(v.yh),e.\u0275\u0275directiveInject(a.qu))},t.\u0275cmp=e.\u0275\u0275defineComponent({type:t,selectors:[["app-form-trip"]],inputs:{action:"action"},features:[e.\u0275\u0275NgOnChangesFeature],decls:60,vars:59,consts:[["autocomplete","off",1,"d-flex","flex-column",3,"formGroup"],[1,"row","py-2"],["appearance","legacy"],["name","status.value",3,"formControlName"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["matInput","","required","",3,"placeholder","formControlName"],["appearance","legacy",1,"col-12","col-xl-6"],["matInput","","required","",3,"formControlName","matDatepicker"],["matSuffix","",3,"for"],["datepickerDeparture",""],["datepickerArrival",""],["name","destination.value",3,"formControlName"],[3,"value"]],template:function(r,i){if(1&r&&(e.\u0275\u0275elementStart(0,"form",0)(1,"div",1)(2,"mat-form-field",2)(3,"mat-label"),e.\u0275\u0275text(4),e.\u0275\u0275pipe(5,"uppercase"),e.\u0275\u0275pipe(6,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"mat-select",3),e.\u0275\u0275template(8,w,3,2,"mat-option",4),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(9,B,3,3,"mat-error",5),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(10,"div",1)(11,"mat-form-field",2)(12,"mat-label"),e.\u0275\u0275text(13),e.\u0275\u0275pipe(14,"uppercase"),e.\u0275\u0275pipe(15,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(16,"input",6),e.\u0275\u0275pipe(17,"uppercase"),e.\u0275\u0275pipe(18,"translate"),e.\u0275\u0275template(19,b,3,3,"mat-error",5),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(20,"div",1)(21,"mat-form-field",7)(22,"mat-label"),e.\u0275\u0275text(23),e.\u0275\u0275pipe(24,"uppercase"),e.\u0275\u0275pipe(25,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(26,"input",8)(27,"mat-datepicker-toggle",9)(28,"mat-datepicker",null,10),e.\u0275\u0275template(30,O,3,3,"mat-error",5),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(31,"mat-form-field",7)(32,"mat-label"),e.\u0275\u0275text(33),e.\u0275\u0275pipe(34,"uppercase"),e.\u0275\u0275pipe(35,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(36,"input",8)(37,"mat-datepicker-toggle",9)(38,"mat-datepicker",null,11),e.\u0275\u0275template(40,P,3,3,"mat-error",5),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(41,"div",1)(42,"mat-form-field",2)(43,"mat-label"),e.\u0275\u0275text(44),e.\u0275\u0275pipe(45,"uppercase"),e.\u0275\u0275pipe(46,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(47,"mat-select",12),e.\u0275\u0275template(48,_,3,2,"mat-option",4),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(49,M,3,3,"mat-error",5),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(50,"div",1)(51,"mat-form-field",2)(52,"mat-label"),e.\u0275\u0275text(53),e.\u0275\u0275pipe(54,"uppercase"),e.\u0275\u0275pipe(55,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(56,"input",6),e.\u0275\u0275pipe(57,"uppercase"),e.\u0275\u0275pipe(58,"translate"),e.\u0275\u0275template(59,k,3,3,"mat-error",5),e.\u0275\u0275elementEnd()()()),2&r){const o=e.\u0275\u0275reference(29),y=e.\u0275\u0275reference(39);e.\u0275\u0275property("formGroup",i.tripForm),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(5,27,e.\u0275\u0275pipeBind1(6,29,"fields.visibility-status.display"))),e.\u0275\u0275advance(3),e.\u0275\u0275property("formControlName","visibility_status"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",i.statusTypes),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",i.tripForm.controls.visibility_status.invalid),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(14,31,e.\u0275\u0275pipeBind1(15,33,"fields.title.display"))),e.\u0275\u0275advance(3),e.\u0275\u0275propertyInterpolate("placeholder",e.\u0275\u0275pipeBind1(17,35,e.\u0275\u0275pipeBind1(18,37,"fields.title.placeholder"))),e.\u0275\u0275property("formControlName","title"),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",i.tripForm.controls.title.invalid),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(24,39,e.\u0275\u0275pipeBind1(25,41,"fields.departure-date.display"))),e.\u0275\u0275advance(3),e.\u0275\u0275property("formControlName","departure_date")("matDatepicker",o),e.\u0275\u0275advance(1),e.\u0275\u0275property("for",o),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",i.tripForm.controls.departure_date.invalid),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(34,43,e.\u0275\u0275pipeBind1(35,45,"fields.arrival-date.display"))),e.\u0275\u0275advance(3),e.\u0275\u0275property("formControlName","arrival_date")("matDatepicker",y),e.\u0275\u0275advance(1),e.\u0275\u0275property("for",y),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",i.tripForm.controls.arrival_date.invalid),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(45,47,e.\u0275\u0275pipeBind1(46,49,"fields.destination.display"))),e.\u0275\u0275advance(3),e.\u0275\u0275property("formControlName","destination"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",i.destinationTypes),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",i.tripForm.controls.destination.invalid),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(54,51,e.\u0275\u0275pipeBind1(55,53,"fields.image.display"))),e.\u0275\u0275advance(3),e.\u0275\u0275propertyInterpolate("placeholder",e.\u0275\u0275pipeBind1(57,55,e.\u0275\u0275pipeBind1(58,57,"fields.image.placeholder"))),e.\u0275\u0275property("formControlName","image"),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",i.tripForm.controls.image.invalid)}},directives:[a._Y,a.JL,a.sg,m.KE,m.hX,N.gD,a.JJ,a.u,s.NgForOf,S.ey,s.NgIf,m.TO,E.Nt,a.Fj,a.Q7,c.hl,c.nW,m.R9,c.Mq],pipes:[s.UpperCasePipe,u.X$],encapsulation:2}),t})();var h=p(1377);let D=(()=>{class t{constructor(r){this.router=r,this.title=""}ngOnInit(){}navigateToDashboard(){this.router.navigate(["/"])}}return t.\u0275fac=function(r){return new(r||t)(e.\u0275\u0275directiveInject(d.F0))},t.\u0275cmp=e.\u0275\u0275defineComponent({type:t,selectors:[["app-save-trip"]],inputs:{title:"title"},decls:13,vars:14,consts:[[1,"fw-bold"],[1,"mat-display-1","text-center","mb-4"],[1,"mat-title","text-center","my-2","w-25"],["mat-stroked-button","","color","primary",1,"my-4",3,"click"]],template:function(r,i){1&r&&(e.\u0275\u0275elementStart(0,"p",0),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"uppercase"),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"h1",1),e.\u0275\u0275text(5),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"p",2),e.\u0275\u0275text(7),e.\u0275\u0275pipe(8,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"button",3),e.\u0275\u0275listener("click",function(){return i.navigateToDashboard()}),e.\u0275\u0275text(10),e.\u0275\u0275pipe(11,"uppercase"),e.\u0275\u0275pipe(12,"translate"),e.\u0275\u0275elementEnd()),2&r&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(2,4,e.\u0275\u0275pipeBind1(3,6,"content.new-trip"))),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(i.title),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(8,8,"content.save-message")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(11,10,e.\u0275\u0275pipeBind1(12,12,"content.back-trips")),"\n"))},directives:[h.lW],pipes:[s.UpperCasePipe,u.X$],styles:["@media (max-width: 992px){.mat-title[_ngcontent-%COMP%]{width:50%!important}}"]}),t})();const W=["formTrip"];function A(t,n){if(1&t&&e.\u0275\u0275element(0,"app-save-trip",9),2&t){const r=e.\u0275\u0275nextContext();e.\u0275\u0275property("title",r.trip.title)}}const Q=[{path:"",component:(()=>{class t{constructor(){this.trip={},this.isSave=!1}ngOnInit(){}saveTrip(){let{trip:r,isSave:i}=this.formTrip.saveForm();i&&(this.isSave=i,this.trip=r)}}return t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=e.\u0275\u0275defineComponent({type:t,selectors:[["app-new-trip"]],viewQuery:function(r,i){if(1&r&&e.\u0275\u0275viewQuery(W,7),2&r){let o;e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(i.formTrip=o.first)}},decls:17,vars:15,consts:[[1,"new-trip-container"],[1,"h-100",3,"hidden"],[1,"d-flex","flex-column","align-items-center","justify-content-center","h-100"],[1,"fw-bold"],[1,"mat-display-1","text-center","my-2"],[1,"w-50","py-4"],["formTrip",""],["mat-stroked-button","","color","primary",3,"click"],["class","d-flex flex-column align-items-center justify-content-center h-100",3,"title",4,"ngIf"],[1,"d-flex","flex-column","align-items-center","justify-content-center","h-100",3,"title"]],template:function(r,i){1&r&&(e.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2)(3,"p",3),e.\u0275\u0275text(4),e.\u0275\u0275pipe(5,"uppercase"),e.\u0275\u0275pipe(6,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"h1",4),e.\u0275\u0275text(8),e.\u0275\u0275pipe(9,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(10,"app-form-trip",5,6),e.\u0275\u0275elementStart(12,"button",7),e.\u0275\u0275listener("click",function(){return i.saveTrip()}),e.\u0275\u0275text(13),e.\u0275\u0275pipe(14,"uppercase"),e.\u0275\u0275pipe(15,"translate"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275template(16,A,1,1,"app-save-trip",8),e.\u0275\u0275elementEnd()),2&r&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("hidden",i.isSave),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(5,5,e.\u0275\u0275pipeBind1(6,7,"content.add-trip"))),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(9,9,"content.next-trip")),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(14,11,e.\u0275\u0275pipeBind1(15,13,"content.save-trip"))," "),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",i.isSave))},directives:[j,h.lW,s.NgIf,D],pipes:[s.UpperCasePipe,u.X$],styles:[".new-trip-container[_ngcontent-%COMP%]{height:calc(100vh - 92px)!important;overflow:auto!important}@media (max-width: 992px){.new-trip-container[_ngcontent-%COMP%]{height:100vh!important}.new-trip-container[_ngcontent-%COMP%]   .mat-display-1[_ngcontent-%COMP%]{font-size:24px}.new-trip-container[_ngcontent-%COMP%]   app-form-trip[_ngcontent-%COMP%]{width:80%!important}}"]}),t})()}];let R=(()=>{class t{}return t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=e.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=e.\u0275\u0275defineInjector({imports:[[d.Bz.forChild(Q)],d.Bz]}),t})(),V=(()=>{class t{}return t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=e.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=e.\u0275\u0275defineInjector({imports:[[R,g.m,T.OwlModule]]}),t})()}}]);